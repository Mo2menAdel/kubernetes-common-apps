# # # cert-manager.yaml
# # apiVersion: v1
# # kind: Namespace
# # metadata:
# #   name: cert-manager
# #   labels:
# #     certmanager.k8s.io/disable-validation: "true"
# ---
# apiVersion: v1
# kind: ServiceAccount
# metadata:
#   name: cert-manager
#   namespace: cert-manager
# ---
# apiVersion: rbac.authorization.k8s.io/v1
# kind: ClusterRole
# metadata:
#   name: cert-manager
# rules:
#   - apiGroups: [""]
#     resources: ["secrets"]
#     verbs: ["create", "update", "delete"]
#   - apiGroups: ["extensions"]
#     resources: ["ingresses"]
#     verbs: ["get", "list", "watch"]
#   - apiGroups: ["certmanager.k8s.io"]
#     resources: ["issuers", "certificates", "certificates/status"]
#     verbs: ["*"]
# ---
# apiVersion: rbac.authorization.k8s.io/v1
# kind: ClusterRoleBinding
# metadata:
#   name: cert-manager
# roleRef:
#   apiGroup: rbac.authorization.k8s.io
#   kind: ClusterRole
#   name: cert-manager
# subjects:
# - kind: ServiceAccount
#   name: cert-manager
#   namespace: cert-manager
# ---
# apiVersion: apps/v1
# kind: Deployment
# metadata:
#   name: cert-manager
#   namespace: cert-manager
# spec:
#   replicas: 1
#   selector:
#     matchLabels:
#       app: cert-manager
#   template:
#     metadata:
#       labels:
#         app: cert-manager
#     spec:
#       serviceAccountName: cert-manager
#       containers:
#       - name: cert-manager
#         image: quay.io/jetstack/cert-manager-controller:v0.13.1
#         args:
#         - --v=2
#         - --cluster-resource-namespace=$(POD_NAMESPACE)
#         - --leader-election-namespace=$(POD_NAMESPACE)
#         env:
#         - name: POD_NAMESPACE
#           valueFrom:
#             fieldRef:
#               fieldPath: metadata.namespace
# ---
# apiVersion: cert-manager.io/v1
# kind: ClusterIssuer
# metadata:
#   name: letsencrypt-prod
# spec:
#   acme:
#     server: https://acme-v02.api.letsencrypt.org/directory
#     email: your-email@domain.com
#     privateKeySecretRef:
#       name: letsencrypt-prod
#     solvers:
#     - http01:
#         ingress:
#           class: nginx
